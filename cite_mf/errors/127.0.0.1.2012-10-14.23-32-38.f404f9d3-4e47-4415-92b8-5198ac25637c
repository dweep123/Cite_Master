(dp1
S'output'
p2
S"<type 'exceptions.KeyError'> 'input'"
p3
sS'layer'
p4
S'/home/chitra/courses/SSAD/web2py/applications/ssad2/controllers/default.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n### required - do no delete\ndef user(): return dict(form=auth())\ndef download(): return response.download(request,db)\ndef call(): return service()\n### end requires\n#def index():\n #   return dict()\n\n#def error():\n #   return dict()\nfrom gluon.tools import fetch\nimport re\nlistf=[]\ncount=0\nbigans=[]\ndef index():\n    form=SQLFORM(db.input)\n    if form.process().accepted:\n        response.flash = \'you entred\'\n        redirect(URL(\'final_ans\'))\n    return dict(form=form)\ndef year_user(index_yr):   #index_yr - only in this code not in main one\n    flag=index_yr\n    redirect(URL(\'final_ans()\'))\n    flag=0\n    #return dict(ans=ll1[0],l_yr=ll1[1])\ndef extract1(url,l1):\n    ret=[]\n    html=fetch(url)\n    html_splitted=html.split("<A HREF=\\"citation.cfm")\n    del html_splitted[0]\n    for i in range(0,l1[2]):\n        k=html_splitted[i].find(\'\\"\')\n        s="http://dl.acm.org/citation.cfm"+html_splitted[i][:k]\n        ret.append(s.split(\'&preflayout\')[0]+\'&preflayout=flat\')\n    return ret  \n    \n    \ndef final_ans():\n    l1=u_filter() \n    url="http://dl.acm.org/results.cfm?h=1&query="+\'+\'.join(l1[0].split())\n    fst_l=extract1(url,l1)\n    #for l in fst_l:\n     #   listf.append(cite(l))\n    rec(fst_l,l1,bigans)\n    global listf\n    return dict(bigans=bigans,level=l1[1],top=l1[2])\ndef rec(list1,l1,bigans):\n    global count\n    count=count+1\n    global listf\n    listf.append([])\n    for x in list1:\n        if x!=\'\':\n            z=cite(x)\n            #global listf\n            #listf[count-1].append(z)\n            bigans.append(z)\n            if count < l1[1]:\n                rec(z[5],l1,bigans[-1])\n    count=count-1\n    return\ndef cite(url):\n    if url==\'\':\n        return []\n    l1=u_filter()\n    html=fetch(url)\n    temp=[]\n        #temp=[]\n    d=re.search(\'<meta name="citation_title"[\\w\\W]*?>\',html).group()\n    d=bold(d)\n        #temp.append(d.split(\'>\')[0][9:-1])\n    temp.append(d.split(\'=\')[2][1:-2])\n    temp.append(url)\n    c=re.search(\'<meta name="citation_authors"[\\w\\W]*?>\',html).group()\n    c=bold(c)\n        #temp.append(d.split(\'>\')[0][9:-1])\n    temp.append(c.split(\'=\')[2][1:-2])\n    b=re.search(\'<meta name="citation_date"[\\w\\W]*?>\',html).group()\n    b=bold(b)\n    temp.append(b.split(\'=\')[2][1:-2])\n    s=re.search(\'CITED BY[\\w\\W]*?INDEX TERMS\',html).group()\n    if \'Citings are not available\' not in s:\n        e=re.search(\'\\d* Citations\',s)\n        if e!=None:\n            temp.append(e.group().split()[0])\n        else:\n            temp.append(1)\n        i=0\n        cit=[]\n        while i < l1[2]:\n            i+=1\n            s1=re.search(\'<a href[\\w\\W]*?</a>\',s)\n            if s1==None:\n                cit.append(\'\')\n            elif s1!=None:\n                k=s.find(s1.group())\n                #k1=s[:k]\n                cit.append(("http://dl.acm.org/"+s1.group().split(\'\\"\')[1]).split(\'&preflayout\')[0]+\'&preflayout=flat\')\n                s=s[k+2:]\n           \n        temp.append(cit)\n    else:\n        temp.append(0)\n        temp.append([])\n    return temp\ndef u_filter():\n    inpu=db().select(db.input.ALL)\n    for inp in inpu:\n        key=inp.keywords\n        level=inp.level\n        top=inp.top\n        auth=inp.author\n        cited_by=inp.cited_by\n        year=inp.year\n    return [key,level,top,auth,cited_by,year]\ndef bold(d):\n    pre=""\n    while pre!=d:\n        pre=d\n        d=d.replace("<b>","");\n        d=d.replace("</b>","");\n    return d\n\nresponse._vars=response._caller(index)\n'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "/home/chitra/courses/SSAD/web2py/gluon/restricted.py", line 205, in restricted\n    exec ccode in environment\n  File "/home/chitra/courses/SSAD/web2py/applications/ssad2/controllers/default.py", line 126, in <module>\n  File "/home/chitra/courses/SSAD/web2py/gluon/globals.py", line 173, in <lambda>\n    self._caller = lambda f: f()\n  File "/home/chitra/courses/SSAD/web2py/applications/ssad2/controllers/default.py", line 18, in index\n    form=SQLFORM(db.input)\n  File "/home/chitra/courses/SSAD/web2py/gluon/dal.py", line 6343, in __getattr__\n    return self[key]\n  File "/home/chitra/courses/SSAD/web2py/gluon/dal.py", line 6337, in __getitem__\n    return dict.__getitem__(self, str(key))\nKeyError: \'input\'\n'
p11
s.